"0","# make sure all variables are categorical "
"0","# survey data"
"0","survey_data <- survey_data %>% mutate(Vote = factor(Vote),"
"0","                                      Age = factor(Age),"
"0","                                      Income = factor(Income),"
"0","                                      Gender = factor(Gender),"
"0","                                      Province = factor(Province),"
"0","                                      Education = factor(Education),"
"0","                                      Employment = factor(Employment),"
"0","                                      Label = factor(Label))"
"0",""
"0",""
"0","# census data"
"0","census_data <- census_data %>% mutate("
"0","                                      Age = factor(Age),"
"0","                                      Income = factor(Income),"
"0","                                      Gender = factor(Gender),"
"0","                                      Province = factor(Province),"
"0","                                      Education = factor(Education),"
"0","                                      Employment = factor(Employment),"
"0","                                      Label = factor(Label))"
"0",""
"0","# Match datasets"
"0","sum(survey_data$Province %>% levels() != census_data$Province %>% levels())"
"1","[1]"
"1"," 0"
"1","
"
"0","# need reorder"
"0","census_data$Education %>% levels()"
"1","[1]"
"1"," ""High School""      "
"1"," ""Post High School"" "
"1"," ""Under High School"""
"1","
"
"0","census_data$Income %>% levels()"
"1","[1]"
"1"," ""$100000-""     "
"1"," ""-$29999""      "
"1"," ""$30000-$69999"""
"1"," ""$70000-$99999"""
"1","
"
"0","census_data$Employment %>% levels()"
"1","[1]"
"1"," ""Employed""  "
"1"," ""Unemployed"""
"1","
"
"0","# Relevel Education                 "
"0","survey_data$Education <- factor(survey_data$Education, levels(survey_data$Education)[c(3, 1:2)])"
"0","# Relevel Education "
"0","census_data$Education <- factor(census_data$Education, levels(census_data$Education)[c(3, 1:2)])"
"0","# relevel employment "
"0","census_data$Employment <- factor(census_data$Employment, levels(census_data$Employment)[c(2, 1)])"
"0","survey_data$Employment <- factor(survey_data$Employment, levels(survey_data$Employment)[c(2, 1)])"
"0",""
"0","# relevel income "
"0","survey_data$Income <- factor(survey_data$Income, levels(survey_data$Income)[c(2:4, 1)])"
"0","# Relevel Education "
"0","census_data$Income <- factor(census_data$Income, levels(census_data$Income)[c(2:4, 1)])"
"0",""
"0","# make sure all matched "
"0","sum(census_data$Education %>% levels() != survey_data$Education %>% levels() )"
"1","[1]"
"1"," 0"
"1","
"
"0","sum(census_data$Income %>% levels() != survey_data$Income %>% levels() )"
"1","[1]"
"1"," 0"
"1","
"
"0","sum(census_data$Employment %>% levels() != survey_data$Employment %>% levels() )"
"1","[1]"
"1"," 0"
"1","
"
"0","sum(census_data$Age %>% levels() != survey_data$Age %>% levels() )"
"1","[1]"
"1"," 0"
"1","
"
"0","sum(census_data$Gender %>% levels() != survey_data$Gender %>% levels() )"
"1","[1]"
"1"," 0"
"1","
"
"0","# finally combine"
"0","df <- rbind(survey_data[, 2:ncol(survey_data)], census_data[, 2:ncol(census_data)])"
"0",""
